<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcella Houms</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        header { background: #2c3e50; color: white; padding: 20px; text-align: center; }
        .container { width: 80%; margin: auto; overflow: hidden; background: white; padding: 20px; }
        
        .slider-container {
            width: 100%;
            height: 450px;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
        }
        .slide {
            width: 100%;
            height: 100%;
            position: absolute;
            display: none;
            background-size: cover;
            background-position: center;
            transition: 0.5s ease-in-out;
        }
        .active { display: block; }

        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -22px;
            color: white;
            font-weight: bold;
            font-size: 24px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
            background-color: rgba(0,0,0,0.5);
            border: none;
            text-decoration: none;
        }
        .next { right: 0; border-radius: 3px 0 0 3px; }
        .prev:hover, .next:hover { background-color: rgba(0,0,0,0.8); }

        .booking-form { margin-top: 20px; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
        input, select, button { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; }
        .btn-submit { background: #27ae60; color: white; border: none; cursor: pointer; font-size: 18px; }
        .btn-submit:hover { background: #219150; }
        footer { text-align: center; padding: 20px; background: #2c3e50; color: white; margin-top: 20px; }
    </style>
</head>
<body>

<header>
    <h1>Marcella Farm House ЁЯПб</h1>
    <p>рккрлНрк░ркХрлГркдрк┐ркирк╛ ркЦрлЛрк│рлЗ ркдркорк╛рк░рлБркВ рк╕рлНрк╡рк╛ркЧркд ркЫрлЗ</p>
</header>

<div class="container">
    <div class="slider-container">
        <div class="slide active" style="background-image: url('photo1.jpg');"></div>
        <div class="slide" style="background-image: url('photo2.jpg');"></div>
        <div class="slide" style="background-image: url('photo3.jpg');"></div>
        <div class="slide" style="background-image: url('photo4.jpg');"></div>
        <div class="slide" style="background-image: url('photo5.jpg');"></div>
        <div class="slide" style="background-image: url('photo6.jpg');"></div>
        <div class="slide" style="background-image: url('photo7.jpg');"></div>
        <div class="slide" style="background-image: url('photo8.jpg');"></div>
        <div class="slide" style="background-image: url('photo9.jpg');"></div>
        <div class="slide" style="background-image: url('photo10.jpg');"></div>

        <button class="prev" onclick="changeSlide(-1)">тЭо</button>
        <button class="next" onclick="changeSlide(1)">тЭп</button>
    </div>
    
    <h2>рк╕рлБрк╡рк┐ркзрк╛ркУ:</h2>
    <ul>
        <li>ркорлЛркЯрлЛ рк╕рлНрк╡рк┐ркорк┐ркВркЧ рккрлВрк▓ ЁЯПК</li>
        <li>AC ркмрлЗркбрк░рлВркорлНрк╕ тЭД</li>
        <li>ркЦрлБрк▓рлНрк▓рлБркВ ркЧрк╛рк░рлНркбрки ркЕркирлЗ ркХрк┐ркЪрки ЁЯМ│</li>
        <li>ркЧркЬрлЗркмрлЛ</li>
    </ul>

    <div class="booking-form">
        <h3>ркдркорк╛рк░рлБркВ ркмрлБркХрк┐ркВркЧ ркХрк░рлЛ</h3>
        <form id="bookForm">
            <label>ркдркорк╛рк░рлБркВ ркирк╛рко:</label>
            <input type="text" id="name" placeholder="ркдркорк╛рк░рлБркВ ркирк╛рко рк▓ркЦрлЛ" required>

            <label>ркдрк╛рк░рлАркЦ рккрк╕ркВркж ркХрк░рлЛ:</label>
            <input type="date" id="date" required>

            <label>рк╡рлНркпркХрлНркдрк┐ркУркирлА рк╕ркВркЦрлНркпрк╛:</label>
            <input type="number" id="guests" min="1" max="20" placeholder="ркорк╣ркдрлНркдрко 20" required>
			<label>ркорлЛркмрк╛ркИрк▓ ркиркВркмрк░:</label>
    <div style="display: flex; gap: 5px; align-items: center;">
            <span style="background: #ddd; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">+91</span>
    <input type="tel" id="phone" placeholder="10 ркЖркВркХркбрк╛ркирлЛ ркиркВркмрк░" required 
           pattern="[0-9]{10}" maxlength="10" title="ркХрлГрккрк╛ ркХрк░рлАркирлЗ рлзрлж ркЖркВркХркбрк╛ркирлЛ ркорлЛркмрк╛ркИрк▓ ркиркВркмрк░ рк▓ркЦрлЛ"
           style="flex: 1; margin: 0;">
    </div>
            <button type="submit" class="btn-submit">ркмрлБркХрк┐ркВркЧ ркХркирлНрклрк░рлНрко ркХрк░рлЛ</button>
        </form>
    </div>
</div>

<div class="container" style="margin-top: 20px;">
    <h2>ркЕркорк╛рк░рлБркВ рк▓рлЛркХрлЗрк╢рки:</h2>
   
    <div style="width: 100%; height: 400px; border-radius: 10px; overflow: hidden; border: 1px solid #ccc;">
        <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3721.4394042852234!2d72.93481237503445!3d21.1349079805435!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be04f465a35316b%3A0x28684f8c12bc050a!2sMarcella%20Homes!5e0!3m2!1sgu!2sin!4v1705060000000!5m2!1sgu!2sin" 
            width="100%" 
            height="400" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>

    <div style="margin-top: 10px; text-align: center;">
    <a href="https://maps.app.goo.gl/T6c59PsqubuZfsqPA?g_st=aw" target="_blank" 
       style="display: inline-block; background-color: #25d366; color: white; padding: 12px 25px; border-radius: 5px; text-decoration: none; font-weight: bold; box-shadow: 0px 4px 10px rgba(0,0,0,0.1);">
        ЁЯУН ркЧрлВркЧрк▓ ркорлЗркк рккрк░ ркЬрлБркУ (ркорк╛рк░рлНрк╕рлЗрк▓рк╛ рк╣рлЛркорлНрк╕)
    </a>
</div>

</div>
    
    </div>
</div>
</div>
</div>

<footer>
    <p>рк╕ркВрккрк░рлНркХ: тАк+91 9081209362тАм | рк▓рлЛркХрлЗрк╢рки: ркорк╛рк░рлНрк╕рлЗрк▓рк╛ рк╣рлЛркорлНрк╕ , рк╕рлБрк░ркд , ркЧрлБркЬрк░рк╛ркд</p>
    <p>Design By Kamdhenu</p>
</footer>


<script>
    // --- рлз. рк╕рлНрк▓рк╛ркЗркбрк╢рлЛ ркХркВркЯрлНрк░рлЛрк▓ (ркУркЯрлЛркорлЗркЯрк┐ркХ ркЕркирлЗ ркорлЗркирлНркпрлБркЕрк▓) ---
    let slides = document.querySelectorAll('.slide');
    let currentSlide = 0;

    function showSlide(index) {
        if (slides.length === 0) return;
        if (index >= slides.length) { currentSlide = 0; } 
        else if (index < 0) { currentSlide = slides.length - 1; } 
        else { currentSlide = index; }
        
        slides.forEach(s => s.classList.remove('active'));
        slides[currentSlide].classList.add('active');
    }

    function changeSlide(n) { showSlide(currentSlide + n); }
    
    // ркжрк░ рлл рк╕рлЗркХркирлНркбрлЗ ркУркЯрлЛркорлЗркЯрк┐ркХ рклрлЛркЯрлЛ ркмркжрк▓рк╛рк╢рлЗ
    setInterval(() => changeSlide(1), 5000);

    // --- рли. ркмрлБркХрк┐ркВркЧ рклрлЛрк░рлНрко, ркбрлБрккрлНрк▓рлАркХрлЗркЯ ркЪрлЗркХ ркЕркирлЗ WhatsApp рк▓рлЛркЬрк┐ркХ ---
    document.getElementById('bookForm').onsubmit = function(e) {
        e.preventDefault();
        
        // рклрлЛрк░рлНркоркорк╛ркВркерлА ркбрлЗркЯрк╛ ркорлЗрк│рк╡рк╡рлЛ
        const name = document.getElementById('name').value;
        const date = document.getElementById('date').value;
        const guests = document.getElementById('guests').value;
        const phone = document.getElementById('phone').value; // рлзрлж ркЖркВркХркбрк╛ркирлЛ ркиркВркмрк░
        const submitBtn = document.querySelector('.btn-submit');

        // ркмркЯрки рк▓рлЛркбрк┐ркВркЧ ркорлЛркбркорк╛ркВ
        submitBtn.innerText = "ркЪркХрк╛рк╕ркгрлА ркеркИ рк░рк╣рлА ркЫрлЗ...";
        submitBtn.disabled = true;

        // ркдркорк╛рк░рлА Google Apps Script URL (ркЦрк╛ркдрк░рлА ркХрк░рлЛ ркХрлЗ ркЖ рк▓рлЗркЯрлЗрк╕рлНркЯ ркЫрлЗ)
        const scriptURL = 'https://script.google.com/macros/s/AKfycbwpJBSKitFLTnnhFkVXRqYuCGNmtavRxsmjZHkYxCfva_JdpeIKayuCfWaMBN6RwTJPuw/exec'; 

        // рккркЧрк▓рлБркВ рлз: рккрк╣рлЗрк▓рк╛ Google Sheet ркирлЗ рккрлВркЫрлЛ ркХрлЗ ркЖ ркдрк╛рк░рлАркЦ рккрк╣рлЗрк▓рлЗркерлА ркмрлБркХ ркЫрлЗ?
        fetch(`${scriptURL}?date=${date}`)
        .then(response => response.json())
        .then(data => {
            if (data.isBooked) {
                // ркЬрлЛ ркдрк╛рк░рлАркЦ рккрк╣рлЗрк▓рлЗркерлА рк╢рлАркЯркорк╛ркВ рк╣рлЛркп
                alert("тЭМ ркорк╛ркл ркХрк░рк╢рлЛ! " + date + " ркдрк╛рк░рлАркЦрлЗ рккрк╣рлЗрк▓рлЗркерлА ркмрлБркХрк┐ркВркЧ ркеркИ ркЧркпрлБркВ ркЫрлЗ. ркорк╣рлЗрк░ркмрк╛ркирлА ркХрк░рлАркирлЗ ркмрлАркЬрлА ркдрк╛рк░рлАркЦ рккрк╕ркВркж ркХрк░рлЛ.");
                submitBtn.innerText = "ркмрлБркХрк┐ркВркЧ ркХркирлНрклрк░рлНрко ркХрк░рлЛ";
                submitBtn.disabled = false;
            } else {
                // рккркЧрк▓рлБркВ рли: ркЬрлЛ ркдрк╛рк░рлАркЦ ркЦрк╛рк▓рлА рк╣рлЛркп ркдрлЛ ркбрлЗркЯрк╛ рк╢рлАркЯркорк╛ркВ ркорлЛркХрк▓рлЛ
                fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors', // CORS ркПрк░рк░ рк░рлЛркХрк╡рк╛ ркорк╛ркЯрлЗ
                    cache: 'no-cache',
                    body: JSON.stringify({ 
                        "name": name, 
                        "date": date, 
                        "guests": guests, 
                        "phone": phone 
                    })
                })
                .then(() => {
                    // WhatsApp ркорлЗрк╕рлЗркЬ ркдрлИркпрк╛рк░ ркХрк░рк╡рлЛ
                    let whatsappMsg = `*ркирк╡рлБркВ рклрк╛рк░рлНрко рк╣рк╛ркЙрк╕ ркмрлБркХрк┐ркВркЧ рк░рк┐ркХрлНрк╡рлЗрк╕рлНркЯ*%0A--------------------------%0AЁЯСд *ркирк╛рко:* ${name}%0AЁЯУЮ *ркорлЛркмрк╛ркИрк▓:* ${phone}%0AЁЯУЕ *ркдрк╛рк░рлАркЦ:* ${date}%0AЁЯСе *рк╡рлНркпркХрлНркдрк┐ркУ:* ${guests}%0A--------------------------%0AркХрлГрккрк╛ ркХрк░рлАркирлЗ ркЖ ркмрлБркХрк┐ркВркЧ ркХркирлНрклрк░рлНрко ркХрк░рк╢рлЛ.`;
                    
                    alert("тЬЕ ркЕркнрк┐ркиркВркжрки " + name + "!\nркдркорк╛рк░рлА ркмрлБркХрк┐ркВркЧ рк╡рк┐ркЧркдрлЛ рк╕рлЗрк╡ ркеркИ ркЧркИ ркЫрлЗ.");
                    
                    // WhatsApp ркПркк ркЦрлЛрк▓рк╡рлА
                    window.location.href = `https://wa.me/919081209362?text=${whatsappMsg}`;
                    
                    // рклрлЛрк░рлНрко ркХрлНрк▓рк┐ркпрк░ ркХрк░рк╡рлБркВ
                    document.getElementById('bookForm').reset();
                })
                .catch(error => {
                    alert("ркбрлЗркЯрк╛ рк╕рлЗрк╡ ркХрк░рк╡рк╛ркорк╛ркВ ркнрлВрк▓ ркЖрк╡рлА ркЫрлЗ. рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ.");
                })
                .finally(() => {
                    submitBtn.innerText = "ркмрлБркХрк┐ркВркЧ ркХркирлНрклрк░рлНрко ркХрк░рлЛ";
                    submitBtn.disabled = false;
                });
            }
        })
        .catch(error => {
            console.error('Error!', error);
            alert("ркХркирлЗркХрлНрк╢ркиркорк╛ркВ рк╕ркорк╕рлНркпрк╛ ркЫрлЗ. ркЗркирлНркЯрк░ркирлЗркЯ ркЪрлЗркХ ркХрк░рлЛ.");
            submitBtn.disabled = false;
            submitBtn.innerText = "ркмрлБркХрк┐ркВркЧ ркХркирлНрклрк░рлНрко ркХрк░рлЛ";
        });
    };
</script>	
</body>

</html>
